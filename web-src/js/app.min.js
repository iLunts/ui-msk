'use strict';

var app = angular.module('site', ['ngRoute', 'uiGmapgoogle-maps']);

app.config(['$locationProvider', '$routeProvider', function($locationProvider, routeProvider) {
    // $locationProvider.html5Mode({
    //     enabled: true,
    //     requireBase: false,
    //     rewriteLinks: true
    // });
}]);

app.config(["$routeProvider", function($routeProvider) {
    $routeProvider.otherwise({
        redirectTo: "/"
    });
}]);

app.config(["$routeProvider", function ($routeProvider) {
        $routeProvider.when("/", {
            templateUrl: "view/home/index.html",
            controller: "homeCtrl"
        });

        $routeProvider.otherwise({ redirectTo: "/" });
    }
]);

app.controller('homeCtrl', function($scope){

    $scope.directionList = [
        {title: 'Наименование продукции', text: 'ООО «Сельскохозяйственная компания «Здоровый росток»'},
        {title: 'Направления использования инвестиционных ресурсов', text: 'Создание инфраструктуры, Закупка оборудования, технологий'},
        {title: 'Стратегия работы на внутреннем рынке', text: 'Более высокое качество, Более привлекательный сервис'},
        {title: 'Направления использования инвестиционных ресурсов', text: 'Создание инфраструктуры, Закупка оборудования, технологий'},
        {title: 'Стратегия работы на внутреннем рынке', text: 'Более высокое качество, Более привлекательный сервис'},
        {title: 'Наименование продукции', text: 'ООО «Сельскохозяйственная компания «Здоровый росток»'},
        {title: 'Наименование продукции', text: 'ООО «Сельскохозяйственная компания «Здоровый росток»'},
        {title: 'Направления использования инвестиционных ресурсов', text: 'Создание инфраструктуры, Закупка оборудования, технологий'},
        {title: 'Стратегия работы на внутреннем рынке', text: 'Более высокое качество, Более привлекательный сервис'}
    ];

    $scope.similar = [
        {subtitle: 'Машиностроение', title: 'Создание предприятия на базе компании производящей строительные материалы.', date: '20.05.2017', initiator: 'Наименование Инициатора', region: 'Могилёвская', payback: '5 лет', investments: '140 000$'},
        {subtitle: 'Машиностроение', title: 'Создание предприятия на базе компании производящей строительные материалы.', date: '20.05.2017', initiator: 'Наименование Инициатора', region: 'Могилёвская', payback: '5 лет', investments: '140 000$'},
        {subtitle: 'Машиностроение', title: 'Создание предприятия на базе компании производящей строительные материалы.', date: '20.05.2017', initiator: 'Наименование Инициатора', region: 'Могилёвская', payback: '5 лет', investments: '140 000$'}
    ];
});

app.controller("mapCtrl", function($scope, Markers) {
    $scope.map = {
        center: {
            latitude: 53.909696,
            longitude: 27.495395
        },
        zoom: 15
    };
    $scope.markers = Markers;
});

app.directive("owlCarousel", function() {
        return {
            restrict: 'E',
            transclude: false,
            link: function(scope) {
                scope.initCarousel = function(element) {
                    var defaultOptions = {};
                    var customOptions = scope.$eval($(element).attr('data-options'));
                    for (var key in customOptions) {
                        defaultOptions[key] = customOptions[key];
                    }
                    $(element).owlCarousel(defaultOptions);
                };
            }
        };
    })
    .directive('owlCarouselItem', [function() {
        return {
            restrict: 'A',
            transclude: false,
            link: function(scope, element) {

                if (scope.$last) {
                    scope.initCarousel(element.parent());
                }
            }
        };
    }]);

app.factory("Markers", function() {
    var Markers = [
        {
            "id": "1",
            "coords": {
                "latitude": "53.909696",
                "longitude": "27.495395"
            }
        }
    ];
    return Markers;
});


app.controller('sliderCtrl', function($scope) {

    $scope.slider = [
        {
            img: '/content/img/slider/main/slide-1.jpg',
            title: 'Организация агроэкотуризма на базе усадьбы семейного типа «Уютное гнездо»'
        }
    ];

});
